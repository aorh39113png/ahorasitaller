<div class="fixed inset-0 bg-blue-950/60 flex items-center justify-center z-50 font-[Times_New_Roman]">
  <div class="bg-white rounded-2xl shadow-2xl w-full max-w-lg p-8 border border-blue-900/40 relative">
    <h2 class="text-2xl font-bold text-blue-900 mb-6 border-b-2 border-blue-800/30 pb-3 text-center tracking-wide">
      {{ modoEdicion ? 'Modificar Datos de la Persona' : 'Adicionar Nueva Persona' }}
    </h2>

    <form class="grid grid-cols-2 gap-5 text-blue-900">
      <!-- Cédula -->
      <input [(ngModel)]="persona.cedula" name="cedula" placeholder="Cédula"
        class="col-span-2 px-4 py-2 border border-blue-800/50 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-900 focus:outline-none placeholder-blue-900/50" />

      <!-- Nombre -->
      <input [(ngModel)]="persona.nombre" name="nombre" placeholder="Nombre"
        class="px-4 py-2 border border-blue-800/50 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-900 focus:outline-none placeholder-blue-900/50" />

      <!-- Apellidos -->
      <input [(ngModel)]="persona.ap" name="ap" placeholder="Ap. Paterno"
        class="px-4 py-2 border border-blue-800/50 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-900 focus:outline-none placeholder-blue-900/50" />

      <input [(ngModel)]="persona.am" name="am" placeholder="Ap. Materno"
        class="px-4 py-2 border border-blue-800/50 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-900 focus:outline-none placeholder-blue-900/50" />

      <!-- Género -->
      <div class="col-span-2 flex items-center gap-6 mt-2">
        <label class="flex items-center gap-2">
          <input type="radio" [(ngModel)]="persona.genero" name="genero" value="M" class="accent-blue-900" /> Masculino
        </label>
        <label class="flex items-center gap-2">
          <input type="radio" [(ngModel)]="persona.genero" name="genero" value="F" class="accent-blue-900" /> Femenino
        </label>
      </div>

      <!-- Fecha de nacimiento -->
      <div class="col-span-2">
        <label class="text-sm text-blue-900 font-semibold">Fecha de Nacimiento:</label>
        <input [(ngModel)]="persona.fnac" name="fnac" type="date"
          class="w-full mt-1 px-4 py-2 border border-blue-800/50 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-900 focus:outline-none" />
      </div>

      <!-- Estado civil -->
      <div class="col-span-2 flex items-center gap-6">
        <label class="flex items-center gap-2">
          <input type="radio" [(ngModel)]="persona.ecivil" name="ecivil" value="S" class="accent-blue-900" /> Soltero
        </label>
        <label class="flex items-center gap-2">
          <input type="radio" [(ngModel)]="persona.ecivil" name="ecivil" value="C" class="accent-blue-900" /> Casado
        </label>
        <label class="flex items-center gap-2">
          <input type="radio" [(ngModel)]="persona.ecivil" name="ecivil" value="D" class="accent-blue-900" /> Divorciado
        </label>
      </div>

      <!-- Tipo personal -->
      <div class="col-span-2">
        <label class="text-sm text-blue-900 font-semibold">Tipo Personal:</label>
        <select [(ngModel)]="persona.tipo" name="tipo"
          class="w-full mt-1 px-4 py-2 border border-blue-800/50 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-900 focus:outline-none text-blue-900">
          <option value="">Seleccione...</option>
          <option value="P">Profesor</option>
          <option value="E">Estudiante</option>
          <option value="A">Administrativo</option>
        </select>
      </div>

      <!-- Foto -->
      <div class="col-span-2 flex flex-col">
        <label class="text-sm text-blue-900 font-semibold">Foto:</label>
        <input type="file" (change)="onFileSelected($event)"
          class="mt-2 text-sm file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:bg-blue-900 file:text-white hover:file:bg-blue-800 transition duration-200" />
      </div>
    </form>

    <div class="flex justify-between items-center mt-4" *ngIf="modoEdicion || persona.foto">
      <button (click)="removePhoto.emit()" type="button"
        class="text-red-600 hover:text-red-800 text-sm font-semibold underline decoration-red-600/30 hover:decoration-red-800 transition">
        <i class="fa-solid fa-trash mr-1"></i> Quitar Foto / Usar Defecto
      </button>
    </div>

    <div class="flex justify-end gap-4 mt-8">
      <button (click)="guardar.emit()"
        class="bg-blue-900 hover:bg-blue-800 text-white px-6 py-2.5 rounded-lg font-semibold tracking-wide shadow-md hover:shadow-lg transition duration-200">
        {{ modoEdicion ? 'Modificar' : 'Guardar' }}
      </button>
      <button (click)="cerrar.emit()"
        class="bg-white border border-blue-900 text-blue-900 px-6 py-2.5 rounded-lg font-semibold tracking-wide hover:bg-blue-50 shadow-sm hover:shadow-md transition duration-200">
        Cancelar
      </button>
    </div>
  </div>
</div>